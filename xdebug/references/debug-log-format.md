# DEBUG-LOG.md 规范

## 创建位置

存放在 SKILL-STATE.md 的 `output_dir` 目录下。

## 文件格式

```markdown
# DEBUG LOG

> 由 /xdebug skill 自动维护

## 新增内容规范

每次修复 Bug 后追加一个条目，放在对应分类下：

### [分类名]

#### #NNN: [简短标题]
- **日期**：YYYY-MM-DD
- **症状**：用户可观察到的现象
- **根因**：代码层面的原因分析
- **解决**：具体改了什么
- **备注**：（可选）经验教训、注意事项
```

## 分类规则

从项目代码和已有记录中动态推导分类（如"编译问题"、"UI 交互"、"网络请求"、"状态管理"等），不硬编码分类名。新 Bug 如果不属于已有分类，新建分类。

## 编号规则

全局递增，读取文件中最大的 `#NNN` 编号 +1。

## 迁移旧格式

如果检测到已有调试日志但格式不同：
1. 用 AskUserQuestion 展示差异，询问是否迁移
2. 用户同意 → 保留所有原始条目内容，套用新格式（编号、分类等）
3. 用户拒绝 → 保持原样，后续追加时仍遵循原格式
